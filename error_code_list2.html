
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Error codes for optional checks &#8212; Mypy 0.940+dev.7f0839b552c99f62636632bfd44522e91b26dc54 文档</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/translations.js"></script>
    
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="Additional features" href="additional_features.html" />
    <link rel="prev" title="Error codes enabled by default" href="error_code_list.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="additional_features.html" title="Additional features"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="error_code_list.html" title="Error codes enabled by default"
             accesskey="P">上一页</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Mypy 0.940+dev.7f0839b552c99f62636632bfd44522e91b26dc54 文档</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Error codes for optional checks</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="error-codes-for-optional-checks">
<span id="error-codes-optional"></span><h1>Error codes for optional checks<a class="headerlink" href="#error-codes-for-optional-checks" title="永久链接至标题">¶</a></h1>
<p>This section documents various errors codes that mypy generates only
if you enable certain options. See <a class="reference internal" href="error_codes.html#error-codes"><span class="std std-ref">Error codes</span></a> for general
documentation about error codes. <a class="reference internal" href="error_code_list.html#error-code-list"><span class="std std-ref">Error codes enabled by default</span></a> documents
error codes that are enabled by default.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The examples in this section use <a class="reference internal" href="inline_config.html#inline-config"><span class="std std-ref">inline configuration</span></a> to specify mypy options. You can also set the same
options by using a <a class="reference internal" href="config_file.html#config-file"><span class="std std-ref">configuration file</span></a> or
<a class="reference internal" href="command_line.html#command-line"><span class="std std-ref">command-line options</span></a>.</p>
</div>
<section id="check-that-type-arguments-exist-type-arg">
<h2>Check that type arguments exist [type-arg]<a class="headerlink" href="#check-that-type-arguments-exist-type-arg" title="永久链接至标题">¶</a></h2>
<p>If you use <a class="reference internal" href="command_line.html#cmdoption-mypy-disallow-any-generics"><code class="xref std std-option docutils literal notranslate"><span class="pre">--disallow-any-generics</span></code></a>, mypy requires that each generic
type has values for each type argument. For example, the types <code class="docutils literal notranslate"><span class="pre">list</span></code> or
<code class="docutils literal notranslate"><span class="pre">dict</span></code> would be rejected. You should instead use types like <code class="docutils literal notranslate"><span class="pre">list[int]</span></code> or
<code class="docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">int]</span></code>. Any omitted generic type arguments get implicit <code class="docutils literal notranslate"><span class="pre">Any</span></code>
values. The type <code class="docutils literal notranslate"><span class="pre">list</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">list[Any]</span></code>, and so on.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># mypy: disallow-any-generics</span>

<span class="c1"># Error: Missing type parameters for generic type &quot;list&quot;  [type-arg]</span>
<span class="k">def</span> <span class="nf">remove_dups</span><span class="p">(</span><span class="n">items</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
</section>
<section id="check-that-every-function-has-an-annotation-no-untyped-def">
<h2>Check that every function has an annotation [no-untyped-def]<a class="headerlink" href="#check-that-every-function-has-an-annotation-no-untyped-def" title="永久链接至标题">¶</a></h2>
<p>If you use <a class="reference internal" href="command_line.html#cmdoption-mypy-disallow-untyped-defs"><code class="xref std std-option docutils literal notranslate"><span class="pre">--disallow-untyped-defs</span></code></a>, mypy requires that all functions
have annotations (either a Python 3 annotation or a type comment).</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># mypy: disallow-untyped-defs</span>

<span class="k">def</span> <span class="nf">inc</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>  <span class="c1"># Error: Function is missing a type annotation  [no-untyped-def]</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>

<span class="k">def</span> <span class="nf">inc_ok</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>  <span class="c1"># OK</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>

<span class="k">class</span> <span class="nc">Counter</span><span class="p">:</span>
     <span class="c1"># Error: Function is missing a type annotation  [no-untyped-def]</span>
     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">class</span> <span class="nc">CounterOk</span><span class="p">:</span>
     <span class="c1"># OK: An explicit &quot;-&gt; None&quot; is needed if &quot;__init__&quot; takes no arguments</span>
     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</section>
<section id="check-that-cast-is-not-redundant-redundant-cast">
<h2>Check that cast is not redundant [redundant-cast]<a class="headerlink" href="#check-that-cast-is-not-redundant-redundant-cast" title="永久链接至标题">¶</a></h2>
<p>If you use <a class="reference internal" href="command_line.html#cmdoption-mypy-warn-redundant-casts"><code class="xref std std-option docutils literal notranslate"><span class="pre">--warn-redundant-casts</span></code></a>, mypy will generate an error if the source
type of a cast is the same as the target type.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># mypy: warn-redundant-casts</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">cast</span>

<span class="n">Count</span> <span class="o">=</span> <span class="nb">int</span>

<span class="k">def</span> <span class="nf">example</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">Count</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="c1"># Error: Redundant cast to &quot;int&quot;  [redundant-cast]</span>
    <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="check-that-comparisons-are-overlapping-comparison-overlap">
<h2>Check that comparisons are overlapping [comparison-overlap]<a class="headerlink" href="#check-that-comparisons-are-overlapping-comparison-overlap" title="永久链接至标题">¶</a></h2>
<p>If you use <a class="reference internal" href="command_line.html#cmdoption-mypy-strict-equality"><code class="xref std std-option docutils literal notranslate"><span class="pre">--strict-equality</span></code></a>, mypy will generate an error if it
thinks that a comparison operation is always true or false. These are
often bugs. Sometimes mypy is too picky and the comparison can
actually be useful. Instead of disabling strict equality checking
everywhere, you can use <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">type:</span> <span class="pre">ignore[comparison-overlap]</span></code> to
ignore the issue on a particular line only.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># mypy: strict-equality</span>

<span class="k">def</span> <span class="nf">is_magic</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="c1"># Error: Non-overlapping equality check (left operand type: &quot;bytes&quot;,</span>
    <span class="c1">#        right operand type: &quot;str&quot;)  [comparison-overlap]</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">==</span> <span class="s1">&#39;magic&#39;</span>
</pre></div>
</div>
<p>We can fix the error by changing the string literal to a bytes
literal:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># mypy: strict-equality</span>

<span class="k">def</span> <span class="nf">is_magic</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">==</span> <span class="sa">b</span><span class="s1">&#39;magic&#39;</span>  <span class="c1"># OK</span>
</pre></div>
</div>
</section>
<section id="check-that-no-untyped-functions-are-called-no-untyped-call">
<h2>Check that no untyped functions are called [no-untyped-call]<a class="headerlink" href="#check-that-no-untyped-functions-are-called-no-untyped-call" title="永久链接至标题">¶</a></h2>
<p>If you use <a class="reference internal" href="command_line.html#cmdoption-mypy-disallow-untyped-calls"><code class="xref std std-option docutils literal notranslate"><span class="pre">--disallow-untyped-calls</span></code></a>, mypy generates an error when you
call an unannotated function in an annotated function.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># mypy: disallow-untyped-calls</span>

<span class="k">def</span> <span class="nf">do_it</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># Error: Call to untyped function &quot;bad&quot; in typed context  [no-untyped-call]</span>
    <span class="n">bad</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">bad</span><span class="p">():</span>
    <span class="o">...</span>
</pre></div>
</div>
</section>
<section id="check-that-function-does-not-return-any-value-no-any-return">
<h2>Check that function does not return Any value [no-any-return]<a class="headerlink" href="#check-that-function-does-not-return-any-value-no-any-return" title="永久链接至标题">¶</a></h2>
<p>If you use <a class="reference internal" href="command_line.html#cmdoption-mypy-warn-return-any"><code class="xref std std-option docutils literal notranslate"><span class="pre">--warn-return-any</span></code></a>, mypy generates an error if you return a
value with an <code class="docutils literal notranslate"><span class="pre">Any</span></code> type in a function that is annotated to return a
non-<code class="docutils literal notranslate"><span class="pre">Any</span></code> value.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># mypy: warn-return-any</span>

<span class="k">def</span> <span class="nf">fields</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
     <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">first_field</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="c1"># Error: Returning Any from function declared to return &quot;str&quot;  [no-any-return]</span>
    <span class="k">return</span> <span class="n">fields</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="check-that-types-have-no-any-components-due-to-missing-imports-no-any-unimported">
<h2>Check that types have no Any components due to missing imports [no-any-unimported]<a class="headerlink" href="#check-that-types-have-no-any-components-due-to-missing-imports-no-any-unimported" title="永久链接至标题">¶</a></h2>
<p>If you use <a class="reference internal" href="command_line.html#cmdoption-mypy-disallow-any-unimported"><code class="xref std std-option docutils literal notranslate"><span class="pre">--disallow-any-unimported</span></code></a>, mypy generates an error if a component of
a type becomes <code class="docutils literal notranslate"><span class="pre">Any</span></code> because mypy couldn’t resolve an import. These “stealth”
<code class="docutils literal notranslate"><span class="pre">Any</span></code> types can be surprising and accidentally cause imprecise type checking.</p>
<p>In this example, we assume that mypy can’t find the module <code class="docutils literal notranslate"><span class="pre">animals</span></code>, which means
that <code class="docutils literal notranslate"><span class="pre">Cat</span></code> falls back to <code class="docutils literal notranslate"><span class="pre">Any</span></code> in a type annotation:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># mypy: disallow-any-unimported</span>

<span class="kn">from</span> <span class="nn">animals</span> <span class="kn">import</span> <span class="n">Cat</span>  <span class="c1"># type: ignore</span>

<span class="c1"># Error: Argument 1 to &quot;feed&quot; becomes &quot;Any&quot; due to an unfollowed import  [no-any-unimported]</span>
<span class="k">def</span> <span class="nf">feed</span><span class="p">(</span><span class="n">cat</span><span class="p">:</span> <span class="n">Cat</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
</section>
<section id="check-that-statement-or-expression-is-unreachable-unreachable">
<h2>Check that statement or expression is unreachable [unreachable]<a class="headerlink" href="#check-that-statement-or-expression-is-unreachable-unreachable" title="永久链接至标题">¶</a></h2>
<p>If you use <a class="reference internal" href="command_line.html#cmdoption-mypy-warn-unreachable"><code class="xref std std-option docutils literal notranslate"><span class="pre">--warn-unreachable</span></code></a>, mypy generates an error if it
thinks that a statement or expression will never be executed. In most cases, this is due to
incorrect control flow or conditional checks that are accidentally always true or false.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># mypy: warn-unreachable</span>

<span class="k">def</span> <span class="nf">example</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># Error: Right operand of &quot;or&quot; is never evaluated  [unreachable]</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">x</span> <span class="o">==</span> <span class="s1">&#39;unused&#39;</span>

    <span class="k">return</span>
    <span class="c1"># Error: Statement is unreachable  [unreachable]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;unreachable&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="check-that-expression-is-redundant-redundant-expr">
<h2>Check that expression is redundant [redundant-expr]<a class="headerlink" href="#check-that-expression-is-redundant-redundant-expr" title="永久链接至标题">¶</a></h2>
<p>If you use <a class="reference internal" href="command_line.html#cmdoption-mypy-enable-error-code"><code class="xref std std-option docutils literal notranslate"><span class="pre">--enable-error-code</span> <span class="pre">redundant-expr</span></code></a>,
mypy generates an error if it thinks that an expression is redundant.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># mypy: enable-error-code redundant-expr</span>

<span class="k">def</span> <span class="nf">example</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># Error: Left operand of &quot;and&quot; is always true  [redundant-expr]</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="c1"># Error: If condition is always true  [redundant-expr]</span>
    <span class="mi">1</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="k">else</span> <span class="mi">0</span>

    <span class="c1"># Error: If condition in comprehension is always true  [redundant-expr]</span>
    <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="nb">int</span><span class="p">)]</span>
</pre></div>
</div>
</section>
<section id="check-that-expression-is-not-implicitly-true-in-boolean-context-truthy-bool">
<h2>Check that expression is not implicitly true in boolean context [truthy-bool]<a class="headerlink" href="#check-that-expression-is-not-implicitly-true-in-boolean-context-truthy-bool" title="永久链接至标题">¶</a></h2>
<p>Warn when an expression whose type does not implement <code class="docutils literal notranslate"><span class="pre">__bool__</span></code> or <code class="docutils literal notranslate"><span class="pre">__len__</span></code> is used in boolean context,
since unless implemented by a sub-type, the expression will always evaluate to true.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># mypy: enable-error-code truthy-bool</span>

<span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
  <span class="k">pass</span>
<span class="n">foo</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>
<span class="c1"># Error: &quot;foo&quot; has type &quot;Foo&quot; which does not implement __bool__ or __len__ so it could always be true in boolean context</span>
<span class="k">if</span> <span class="n">foo</span><span class="p">:</span>
   <span class="o">...</span>
</pre></div>
</div>
<p>This check might falsely imply an error. For example, <code class="docutils literal notranslate"><span class="pre">Iterable</span></code> does not implement
<code class="docutils literal notranslate"><span class="pre">__len__</span></code> and so this code will be flagged:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># mypy: enable-error-code truthy-bool</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Iterable</span>

<span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="n">items</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="c1"># Error: &quot;items&quot; has type &quot;Iterable[int]&quot; which does not implement __bool__ or __len__ so it could always be true in boolean context  [truthy-bool]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">items</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="mi">42</span><span class="p">]</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">items</span><span class="p">]</span>
</pre></div>
</div>
<p>If called as <code class="docutils literal notranslate"><span class="pre">transform((int(s)</span> <span class="pre">for</span> <span class="pre">s</span> <span class="pre">in</span> <span class="pre">[]))</span></code>, this function would not return <code class="docutils literal notranslate"><span class="pre">[42]</span></code> unlike what the author
might have intended. Of course it’s possible that <code class="docutils literal notranslate"><span class="pre">transform</span></code> is only passed <code class="docutils literal notranslate"><span class="pre">list</span></code> objects, and so there is
no error in practice. In such case, it might be prudent to annotate <code class="docutils literal notranslate"><span class="pre">items:</span> <span class="pre">Sequence[int]</span></code>.</p>
<p>This is similar in concept to ensuring that an expression’s type implements an expected interface (e.g. <code class="docutils literal notranslate"><span class="pre">Sized</span></code>),
except that attempting to invoke an undefined method (e.g. <code class="docutils literal notranslate"><span class="pre">__len__</span></code>) results in an error,
while attempting to evaluate an object in boolean context without a concrete implementation results in a truthy value.</p>
</section>
<section id="check-that-type-ignore-include-an-error-code-ignore-without-code">
<span id="ignore-without-code"></span><h2>Check that <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">type:</span> <span class="pre">ignore</span></code> include an error code [ignore-without-code]<a class="headerlink" href="#check-that-type-ignore-include-an-error-code-ignore-without-code" title="永久链接至标题">¶</a></h2>
<p>Warn when a <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">type:</span> <span class="pre">ignore</span></code> comment does not specify any error codes.
This clarifies the intent of the ignore and ensures that only the
expected errors are silenced.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># mypy: enable-error-code ignore-without-code</span>

<span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>

<span class="c1"># This line has a typo that mypy can&#39;t help with as both:</span>
<span class="c1"># - the expected error &#39;assignment&#39;, and</span>
<span class="c1"># - the unexpected error &#39;attr-defined&#39;</span>
<span class="c1"># are silenced.</span>
<span class="c1"># Error: &quot;type: ignore&quot; comment without error code (consider &quot;type: ignore[attr-defined]&quot; instead)</span>
<span class="n">f</span><span class="o">.</span><span class="n">nme</span> <span class="o">=</span> <span class="mi">42</span>  <span class="c1"># type: ignore</span>

<span class="c1"># This line warns correctly about the typo in the attribute name</span>
<span class="c1"># Error: &quot;Foo&quot; has no attribute &quot;nme&quot;; maybe &quot;name&quot;?</span>
<span class="n">f</span><span class="o">.</span><span class="n">nme</span> <span class="o">=</span> <span class="mi">42</span>  <span class="c1"># type: ignore[assignment]</span>
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">目录</a></h3>
    <ul>
<li><a class="reference internal" href="#">Error codes for optional checks</a><ul>
<li><a class="reference internal" href="#check-that-type-arguments-exist-type-arg">Check that type arguments exist [type-arg]</a></li>
<li><a class="reference internal" href="#check-that-every-function-has-an-annotation-no-untyped-def">Check that every function has an annotation [no-untyped-def]</a></li>
<li><a class="reference internal" href="#check-that-cast-is-not-redundant-redundant-cast">Check that cast is not redundant [redundant-cast]</a></li>
<li><a class="reference internal" href="#check-that-comparisons-are-overlapping-comparison-overlap">Check that comparisons are overlapping [comparison-overlap]</a></li>
<li><a class="reference internal" href="#check-that-no-untyped-functions-are-called-no-untyped-call">Check that no untyped functions are called [no-untyped-call]</a></li>
<li><a class="reference internal" href="#check-that-function-does-not-return-any-value-no-any-return">Check that function does not return Any value [no-any-return]</a></li>
<li><a class="reference internal" href="#check-that-types-have-no-any-components-due-to-missing-imports-no-any-unimported">Check that types have no Any components due to missing imports [no-any-unimported]</a></li>
<li><a class="reference internal" href="#check-that-statement-or-expression-is-unreachable-unreachable">Check that statement or expression is unreachable [unreachable]</a></li>
<li><a class="reference internal" href="#check-that-expression-is-redundant-redundant-expr">Check that expression is redundant [redundant-expr]</a></li>
<li><a class="reference internal" href="#check-that-expression-is-not-implicitly-true-in-boolean-context-truthy-bool">Check that expression is not implicitly true in boolean context [truthy-bool]</a></li>
<li><a class="reference internal" href="#check-that-type-ignore-include-an-error-code-ignore-without-code">Check that <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">type:</span> <span class="pre">ignore</span></code> include an error code [ignore-without-code]</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>上一个主题</h4>
    <p class="topless"><a href="error_code_list.html"
                          title="上一章">Error codes enabled by default</a></p>
  </div>
  <div>
    <h4>下一个主题</h4>
    <p class="topless"><a href="additional_features.html"
                          title="下一章">Additional features</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/error_code_list2.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="additional_features.html" title="Additional features"
             >下一页</a> |</li>
        <li class="right" >
          <a href="error_code_list.html" title="Error codes enabled by default"
             >上一页</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Mypy 0.940+dev.7f0839b552c99f62636632bfd44522e91b26dc54 文档</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Error codes for optional checks</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2016, Jukka Lehtosalo.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
  </body>
</html>